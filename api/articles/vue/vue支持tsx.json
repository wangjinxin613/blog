{"title":"vue支持tsx","uid":"01ed74d49392915bb74b2485eb4564a7","slug":"vue/vue支持tsx","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.993Z","comments":true,"path":"api/articles/vue/vue支持tsx.json","keywords":null,"cover":[],"content":"<p>使用vuecl3创建的项目，集成tsx</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue add tsx-support</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"导入和配置\"><a href=\"#导入和配置\" class=\"headerlink\" title=\"导入和配置\"></a>导入和配置</h2><p>安装 vue-tsx-support 包</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install vue-tsx-support --save</span><br></pre></td></tr></table></figure>\n\n<p>导入TS声明，有两种方式</p>\n<p>编辑tsconfig.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;include&quot;: [</span><br><span class=\"line\">    &quot;node_modules/vue-tsx-support/enable-check.d.ts&quot;, </span><br><span class=\"line\">    &quot;src/**/*.ts&quot;,</span><br><span class=\"line\">    &quot;src/**/*.tsx&quot;,</span><br><span class=\"line\">    &quot;src/**/*.vue&quot;,</span><br><span class=\"line\">    &quot;tests/**/*.ts&quot;,</span><br><span class=\"line\">    &quot;tests/**/*.tsx&quot;</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  </span><br><span class=\"line\"> // 注意：将exclude内的 &quot;node_modules&quot; 删掉，不然永远也无法被引用到了</span><br></pre></td></tr></table></figure>\n\n<p>或者在main.js中 import</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &quot;vue-tsx-support/enable-check&quot;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"创建视图组件\"><a href=\"#创建视图组件\" class=\"headerlink\" title=\"创建视图组件\"></a>创建视图组件</h2><p>来创建个按钮组件：</p>\n<p><a href=\"javascript:void(0);\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 1 import &#123; Component, Prop &#125; from &quot;vue-property-decorator&quot;;</span><br><span class=\"line\"> 2 import * as tsx from &quot;vue-tsx-support&quot;;</span><br><span class=\"line\"> 3 </span><br><span class=\"line\"> 4 export enum ButtonType &#123;</span><br><span class=\"line\"> 5   default = &quot;default&quot;,</span><br><span class=\"line\"> 6   primary = &quot;primary&quot;</span><br><span class=\"line\"> 7 &#125;</span><br><span class=\"line\"> 8 </span><br><span class=\"line\"> 9 export enum ButtonSize &#123;</span><br><span class=\"line\">10   large = &quot;large&quot;,</span><br><span class=\"line\">11   small = &quot;small&quot;</span><br><span class=\"line\">12 &#125;</span><br><span class=\"line\">13 export interface IButtonProps &#123;</span><br><span class=\"line\">14   type?: ButtonType;</span><br><span class=\"line\">15   size?: ButtonSize;</span><br><span class=\"line\">16   num: number;</span><br><span class=\"line\">17 &#125;</span><br><span class=\"line\">18 </span><br><span class=\"line\">19 @Component</span><br><span class=\"line\">20 export default class Button extends tsx.Component&lt;IButtonProps&gt; &#123;</span><br><span class=\"line\">21   @Prop() public type!: ButtonType;</span><br><span class=\"line\">22   @Prop() public size!: ButtonSize;</span><br><span class=\"line\">23   @Prop(&#123; default: 0 &#125;) public num!: number;</span><br><span class=\"line\">24 </span><br><span class=\"line\">25   protected render() &#123;</span><br><span class=\"line\">26     return (</span><br><span class=\"line\">27       &lt;div&gt;</span><br><span class=\"line\">28         &lt;p&gt;id:&#123;this.num&#125;&lt;/p&gt;</span><br><span class=\"line\">29         &#123;this.type &amp;&amp; &lt;p&gt;type:&#123;this.type&#125;&lt;/p&gt;&#125;</span><br><span class=\"line\">30         &#123;this.size &amp;&amp; &lt;p&gt;size:&#123;this.size&#125;&lt;/p&gt;&#125;</span><br><span class=\"line\">31       &lt;/div&gt;</span><br><span class=\"line\">32     );</span><br><span class=\"line\">33   &#125;</span><br><span class=\"line\">34 &#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"javascript:void(0);\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></p>\n<p>再创建Container 用TSX引用组件Button：</p>\n<p><a href=\"javascript:void(0);\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; Component, Prop &#125; from &quot;vue-property-decorator&quot;;</span><br><span class=\"line\">import &#123; Component as tsc &#125; from &quot;vue-tsx-support&quot;;</span><br><span class=\"line\">import Button, &#123; ButtonType, ButtonSize &#125; from &quot;./button&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface IContainerProps &#123;</span><br><span class=\"line\">  name?: string;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@Component</span><br><span class=\"line\">export default class Container extends tsc&lt;IContainerProps&gt; &#123;</span><br><span class=\"line\">  @Prop() public name!: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  protected render() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;div&gt;</span><br><span class=\"line\">        &lt;p&gt;container Name:&#123;this.name&#125;&lt;/p&gt;</span><br><span class=\"line\">        &lt;p&gt;&#123;this.$slots.default&#125;&lt;/p&gt;</span><br><span class=\"line\">        &lt;p&gt;</span><br><span class=\"line\">          button:</span><br><span class=\"line\">          &lt;Button num=&#123;9&#125; type=&#123;ButtonType.primary&#125; size=&#123;ButtonSize.large&#125; /&gt;</span><br><span class=\"line\">        &lt;/p&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","text":"使用vuecl3创建的项目，集成tsx 1vue add tsx-support 导入和配置安装 vue-tsx-support 包 1npm install ...","permalink":"/post/vue/vue支持tsx","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"vue","slug":"vue","count":7,"path":"api/tags/vue.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AF%BC%E5%85%A5%E5%92%8C%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">导入和配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">创建视图组件</span></a></li></ol>","author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"vue的model选项","uid":"c1c47e74b74b6468b32ad71db9f1ca1a","slug":"vue/vue的model选项","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.993Z","comments":true,"path":"api/articles/vue/vue的model选项.json","keywords":null,"cover":null,"text":"允许一个自定义组件在使用 v-model 时定制 prop 和 event。默认情况下，一个组件上的 v-model 会把 value 用作 prop 且把 i...","permalink":"/post/vue/vue的model选项","photos":[],"count_time":{"symbolsCount":826,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue","slug":"vue","count":7,"path":"api/tags/vue.json"}],"author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"vue兼容ie","uid":"08218342bd24599d0dae687c1993c61d","slug":"vue/vue兼容ie","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.993Z","comments":true,"path":"api/articles/vue/vue兼容ie.json","keywords":null,"cover":null,"text":"vue兼容ie浏览器babel-polyfillbabel-polyfill的作用是是让ie浏览器支持es6语法 安装 1npm install --save-...","permalink":"/post/vue/vue兼容ie","photos":[],"count_time":{"symbolsCount":755,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue","slug":"vue","count":7,"path":"api/tags/vue.json"}],"author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}