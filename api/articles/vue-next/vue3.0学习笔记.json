{"title":"vue3.0学习笔记","uid":"b73630ac73571fe9078d5077fe4b9a72","slug":"vue-next/vue3.0学习笔记","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.993Z","comments":true,"path":"api/articles/vue-next/vue3.0学习笔记.json","keywords":null,"cover":null,"content":"<h2 id=\"一个新的全局-API：createApp\"><a href=\"#一个新的全局-API：createApp\" class=\"headerlink\" title=\"一个新的全局 API：createApp\"></a>一个新的全局 API：<code>createApp</code></h2><p>调用 <code>createApp</code> 返回一个应用实例，这是 Vue 3 中的新概念：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(&#123;&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>应用实例暴露当前全局 API 的子集，经验法则是，任何全局改变 Vue 行为的 API 现在都会移动到应用实例上，以下是当前全局 API 及其相应实例 API 的表：</p>\n<table>\n<thead>\n<tr>\n<th>2.x 全局 API</th>\n<th>3.x 实例 API (<code>app</code>)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Vue.config</td>\n<td>app.config</td>\n</tr>\n<tr>\n<td>Vue.config.productionTip</td>\n<td><em>removed</em> (<a href=\"https://www.vue3js.cn/docs/zh/guide/migration/global-api.html#config-productiontip-removed\">见下方</a>)</td>\n</tr>\n<tr>\n<td>Vue.config.ignoredElements</td>\n<td>app.config.isCustomElement (<a href=\"https://www.vue3js.cn/docs/zh/guide/migration/global-api.html#config-ignoredelements-is-now-config-iscustomelement\">见下方</a>)</td>\n</tr>\n<tr>\n<td>Vue.component</td>\n<td>app.component</td>\n</tr>\n<tr>\n<td>Vue.directive</td>\n<td>app.directive</td>\n</tr>\n<tr>\n<td>Vue.mixin</td>\n<td>app.mixin</td>\n</tr>\n<tr>\n<td>Vue.use</td>\n<td>app.use (<a href=\"https://www.vue3js.cn/docs/zh/guide/migration/global-api.html#a-note-for-plugin-authors\">见下方</a>)</td>\n</tr>\n</tbody></table>\n<p>所有其他不全局改变行为的全局 API 现在被命名为 exports，文档见<a href=\"https://www.vue3js.cn/docs/zh/guide/migration/global-api-treeshaking.html\">全局 API Treeshaking</a>。</p>\n<h2 id=\"provide\"><a href=\"#provide\" class=\"headerlink\" title=\"provide\"></a>provide</h2><ul>\n<li><p><strong>参数：</strong></p>\n<ul>\n<li><code>&#123;string | Symbol&#125; key</code></li>\n<li><code>value</code></li>\n</ul>\n</li>\n<li><p><strong>返回值：</strong></p>\n<ul>\n<li>应用实例</li>\n</ul>\n</li>\n<li><p><strong>用法：</strong></p>\n<p>设置一个可以被注入到应用范围内所有组件中的值。组件应该使用 <code>inject</code> 来接收提供的值。</p>\n<p>从 <code>provide</code>&#x2F;<code>inject</code> 的角度来看，可以将应用程序视为根级别的祖先，而根组件是其唯一的子级。</p>\n<p>该方法不应该与 <a href=\"https://www.vue3js.cn/docs/zh/api/options-composition.html#provide-inject\">provide 组件选项</a>或组合式 API 中的 <a href=\"https://www.vue3js.cn/docs/zh/api/composition-api.html#provide-inject\">provide 方法</a>混淆。虽然它们也是相同的 <code>provide</code>&#x2F;<code>inject</code> 机制的一部分，但是是用来配置组件提供的值而不是应用提供的值。</p>\n<p>通过应用提供值在写插件时尤其有用，因为插件一般不能使用组件提供值。这是使用 <a href=\"https://www.vue3js.cn/docs/zh/api/application-config.html#globalProperties\">globalProperties</a> 的替代选择。</p>\n<p>Note</p>\n<p><code>provide</code> 和 <code>inject</code> 绑定不是响应式的。这是有意为之。不过，如果你向下传递一个响应式对象，这个对象上的 property 会保持响应式。</p>\n</li>\n<li><p><strong>示例：</strong></p>\n<p>向根组件中注入一个 property，值由应用提供。</p>\n</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">inject</span>: [<span class=\"string\">&#x27;user&#x27;</span>],</span><br><span class=\"line\">  <span class=\"attr\">template</span>: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &#123;&#123; user &#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">provide</span>(<span class=\"string\">&#x27;user&#x27;</span>, <span class=\"string\">&#x27;administrator&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>参考：<ul>\n<li><a href=\"https://www.vue3js.cn/docs/zh/guide/component-provide-inject.html\">Provide &#x2F; Inject</a></li>\n</ul>\n</li>\n</ul>\n","text":"一个新的全局 API：createApp调用 createApp 返回一个应用实例，这是 Vue 3 中的新概念： 123import { createApp ...","permalink":"/post/vue-next/vue3.0学习笔记","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue-next","slug":"vue-next","count":7,"path":"api/tags/vue-next.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%85%A8%E5%B1%80-API%EF%BC%9AcreateApp\"><span class=\"toc-text\">一个新的全局 API：createApp</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#provide\"><span class=\"toc-text\">provide</span></a></li></ol>","author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"3.Composition API","uid":"b57579c1d8477aa7ac0530064b6472c7","slug":"vue-next/3.Composition API","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.993Z","comments":true,"path":"api/articles/vue-next/3.Composition API.json","keywords":null,"cover":null,"text":"Composition API 上手初体验 Vue3.0最大的变化就是 Vue Composition API， Composition API是一种全新的逻辑...","permalink":"/post/vue-next/3.Composition API","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue-next","slug":"vue-next","count":7,"path":"api/tags/vue-next.json"}],"author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"vue兼容ie","uid":"08218342bd24599d0dae687c1993c61d","slug":"vue/vue兼容ie","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.993Z","comments":true,"path":"api/articles/vue/vue兼容ie.json","keywords":null,"cover":null,"text":"vue兼容ie浏览器babel-polyfillbabel-polyfill的作用是是让ie浏览器支持es6语法 安装 1npm install --save-...","permalink":"/post/vue/vue兼容ie","photos":[],"count_time":{"symbolsCount":755,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue","slug":"vue","count":7,"path":"api/tags/vue.json"}],"author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}