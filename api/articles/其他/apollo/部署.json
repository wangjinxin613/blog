{"title":"部署","uid":"9c08a0d97df6bc70228237d5ac86d1b4","slug":"其他/apollo/部署","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.999Z","comments":true,"path":"api/articles/其他/apollo/部署.json","keywords":null,"cover":null,"content":"<ol>\n<li>数据库</li>\n<li>docker部署</li>\n</ol>\n<h4 id=\"Apollo-Config-Service\"><a href=\"#Apollo-Config-Service\" class=\"headerlink\" title=\"Apollo Config Service\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_2311-apollo-config-service\">Apollo Config Service</a></h4><h5 id=\"获取镜像\"><a href=\"#获取镜像\" class=\"headerlink\" title=\" 获取镜像\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_23111-%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F\"> 获取镜像</a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull apolloconfig/apollo-configservice</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"运行镜像\"><a href=\"#运行镜像\" class=\"headerlink\" title=\" 运行镜像\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_23112-%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F\"> 运行镜像</a></h5><p>示例：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -p 8080:8080 \\</span><br><span class=\"line\">    -e SPRING_DATASOURCE_URL=<span class=\"string\">&quot;jdbc:mysql://127.0.0.1:3306/ApolloConfigDB?characterEncoding=utf8&quot;</span> \\</span><br><span class=\"line\">    -e SPRING_DATASOURCE_USERNAME=ApolloConfigDB -e SPRING_DATASOURCE_PASSWORD=a0491153a3 \\</span><br><span class=\"line\">    -d -v /tmp/logs:/opt/logs --name apollo-configservice apolloconfig/apollo-configservice</span><br></pre></td></tr></table></figure>\n\n<p>参数说明：</p>\n<ul>\n<li>SPRING_DATASOURCE_URL: 对应环境ApolloConfigDB的地址</li>\n<li>SPRING_DATASOURCE_USERNAME: 对应环境ApolloConfigDB的用户名</li>\n<li>SPRING_DATASOURCE_PASSWORD: 对应环境ApolloConfigDB的密码</li>\n</ul>\n<h4 id=\"2-3-1-2-Apollo-Admin-Service\"><a href=\"#2-3-1-2-Apollo-Admin-Service\" class=\"headerlink\" title=\"2.3.1.2 Apollo Admin Service\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_2312-apollo-admin-service\">2.3.1.2 Apollo Admin Service</a></h4><h5 id=\"2-3-1-2-1-获取镜像\"><a href=\"#2-3-1-2-1-获取镜像\" class=\"headerlink\" title=\"2.3.1.2.1 获取镜像\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_23121-%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F\">2.3.1.2.1 获取镜像</a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull apolloconfig/apollo-adminservice</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-3-1-2-2-运行镜像\"><a href=\"#2-3-1-2-2-运行镜像\" class=\"headerlink\" title=\"2.3.1.2.2 运行镜像\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_23122-%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F\">2.3.1.2.2 运行镜像</a></h5><p>示例：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -p 8090:8090 \\</span><br><span class=\"line\">    -e SPRING_DATASOURCE_URL=<span class=\"string\">&quot;jdbc:mysql://127.0.0.1:3306/ApolloConfigDB?characterEncoding=utf8&quot;</span> \\</span><br><span class=\"line\">    -e SPRING_DATASOURCE_USERNAME=root -e SPRING_DATASOURCE_PASSWORD=961306 \\</span><br><span class=\"line\">    -d -v /tmp/logs:/opt/logs --name apollo-adminservice apolloconfig/apollo-adminservice</span><br></pre></td></tr></table></figure>\n\n<p>参数说明：</p>\n<ul>\n<li>SPRING_DATASOURCE_URL: 对应环境ApolloConfigDB的地址</li>\n<li>SPRING_DATASOURCE_USERNAME: 对应环境ApolloConfigDB的用户名</li>\n<li>SPRING_DATASOURCE_PASSWORD: 对应环境ApolloConfigDB的密码</li>\n</ul>\n<h4 id=\"2-3-1-3-Apollo-Portal\"><a href=\"#2-3-1-3-Apollo-Portal\" class=\"headerlink\" title=\"2.3.1.3 Apollo Portal\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_2313-apollo-portal\">2.3.1.3 Apollo Portal</a></h4><h5 id=\"2-3-1-3-1-获取镜像\"><a href=\"#2-3-1-3-1-获取镜像\" class=\"headerlink\" title=\"2.3.1.3.1 获取镜像\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_23131-%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F\">2.3.1.3.1 获取镜像</a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull apolloconfig/apollo-portal</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-3-1-3-2-运行镜像\"><a href=\"#2-3-1-3-2-运行镜像\" class=\"headerlink\" title=\"2.3.1.3.2 运行镜像\"></a><a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_23132-%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F\">2.3.1.3.2 运行镜像</a></h5><p>示例：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -p 8070:8070 \\</span><br><span class=\"line\">    -e SPRING_DATASOURCE_URL=<span class=\"string\">&quot;jdbc:mysql://127.0.0.1:3306/ApolloPortalDB?characterEncoding=utf8&quot;</span> \\</span><br><span class=\"line\">    -e SPRING_DATASOURCE_USERNAME=root -e SPRING_DATASOURCE_PASSWORD=961306 \\</span><br><span class=\"line\">    -e APOLLO_PORTAL_ENVS=dev,pro \\</span><br><span class=\"line\">    -e DEV_META=http://fill-in-dev-meta-server:8080 -e PRO_META=http://fill-in-pro-meta-server:8080 \\</span><br><span class=\"line\">    -d -v /tmp/logs:/opt/logs --name apollo-portal apolloconfig/apollo-portal</span><br></pre></td></tr></table></figure>\n\n<p>参数说明：</p>\n<ul>\n<li>SPRING_DATASOURCE_URL: 对应环境ApolloPortalDB的地址</li>\n<li>SPRING_DATASOURCE_USERNAME: 对应环境ApolloPortalDB的用户名</li>\n<li>SPRING_DATASOURCE_PASSWORD: 对应环境ApolloPortalDB的密码</li>\n<li>APOLLO_PORTAL_ENVS(可选): 对应ApolloPortalDB中的<a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_311-apolloportalenvs-%E5%8F%AF%E6%94%AF%E6%8C%81%E7%9A%84%E7%8E%AF%E5%A2%83%E5%88%97%E8%A1%A8\">apollo.portal.envs</a>配置项，如果没有在数据库中配置的话，可以通过此环境参数配置</li>\n<li>DEV_META&#x2F;PRO_META(可选): 配置对应环境的Meta Service地址，以${ENV}_META命名，需要注意的是如果配置了ApolloPortalDB中的<a href=\"https://www.apolloconfig.com/#/zh/deployment/distributed-deployment-guide?id=_312-apolloportalmetaservers-%E5%90%84%E7%8E%AF%E5%A2%83meta-service%E5%88%97%E8%A1%A8\">apollo.portal.meta.servers</a>配置，则以apollo.portal.meta.servers中的配置为准</li>\n</ul>\n<p>docker run -d -p 10240:8080 -p 10241:50000 -v &#x2F;usr&#x2F;local&#x2F;docker&#x2F;jenkins_home:&#x2F;var&#x2F;jenkins_home   -v &#x2F;opt&#x2F;apache-maven-3.8.5:&#x2F;usr&#x2F;local&#x2F;maven  -v &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git:&#x2F;usr&#x2F;local&#x2F;git    -v &#x2F;etc&#x2F;localtime:&#x2F;etc&#x2F;localtime –name myjenkins jenkins&#x2F;jenkins</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 8081:8080 -p 50000:50000 --restart=always \\</span><br><span class=\"line\"> -v /usr/local/docker/jenkins_home:/var/jenkins_home \\</span><br><span class=\"line\"> -v /etc/localtime:/etc/localtime -v /opt/apache-maven-3.8.5:/usr/local/maven \\</span><br><span class=\"line\"> -e PHP_TZ=&quot;Asia/Shanghai&quot; --name jenkins jenkins/jenkins:2.341-jdk8</span><br></pre></td></tr></table></figure>","text":" 数据库 docker部署 Apollo Config Service 获取镜像1docker pull apolloconfig/apollo-configs...","permalink":"/post/其他/apollo/部署","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"apollo","slug":"apollo","count":1,"path":"api/tags/apollo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Apollo-Config-Service\"><span class=\"toc-text\">Apollo Config Service</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F\"><span class=\"toc-text\"> 获取镜像</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F\"><span class=\"toc-text\"> 运行镜像</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3-1-2-Apollo-Admin-Service\"><span class=\"toc-text\">2.3.1.2 Apollo Admin Service</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-3-1-2-1-%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">2.3.1.2.1 获取镜像</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-3-1-2-2-%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">2.3.1.2.2 运行镜像</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3-1-3-Apollo-Portal\"><span class=\"toc-text\">2.3.1.3 Apollo Portal</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-3-1-3-1-%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">2.3.1.3.1 获取镜像</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-3-1-3-2-%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">2.3.1.3.2 运行镜像</span></a></li></ol></li></ol>","author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"使用Jest对Vue组件进行单元测试","uid":"23849453bb676c7918a2ae11cb140881","slug":"其他/Jest/使用Jest对Vue组件进行单元测试","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.999Z","comments":true,"path":"api/articles/其他/Jest/使用Jest对Vue组件进行单元测试.json","keywords":null,"cover":[],"text":"使用Jest对Vue组件进行单元测试安装依赖 1npm install --save-dev @vue/test-utils vue-jest jest-tra...","permalink":"/post/其他/Jest/使用Jest对Vue组件进行单元测试","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"Jest","slug":"Jest","count":3,"path":"api/tags/Jest.json"}],"author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"开始","uid":"075200b24f3b143c5139f73a1f31aa8b","slug":"源码阅读笔记/vue/开始","date":"2024-05-05T06:52:32.000Z","updated":"2024-05-05T06:52:33.999Z","comments":true,"path":"api/articles/源码阅读笔记/vue/开始.json","keywords":null,"cover":null,"text":"从入口开始我们之前提到过 Vue.js 构建过程，在 web 应用下，我们来分析 Runtime + Compiler 构建出来的 Vue.js，它的入口是 s...","permalink":"/post/源码阅读笔记/vue/开始","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"vue","slug":"vue","count":7,"path":"api/tags/vue.json"}],"author":{"name":"MessageWall","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F0bcda423-149d-411d-a505-d29abc1ab6de%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1717404600&t=829a21da2f1f1a8181b572805d48b476","link":"/","description":"欢迎来到小王的博客～ <br/> 博客不定时更新，欢迎收藏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}